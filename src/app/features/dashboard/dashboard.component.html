<div class="space-y-8">
  <!-- Page Header -->
  <div class="flex items-center justify-between">
    <div>
      <h1 class="heading-accent">
        Dashboard
      </h1>
      <p class="mt-3 text-stone-500">Welcome back! Here's what's happening with your team.</p>
    </div>
    <div class="flex items-center gap-3">
      <div class="text-right hidden sm:block">
        <p class="text-sm font-semibold text-stone-700">Today</p>
        <p class="text-xs text-stone-400">{{ today | date:'EEEE, MMM d' }}</p>
      </div>
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-[#8b1e3f] to-[#a82349] flex items-center justify-center shadow-lg shadow-[#8b1e3f]/20">
        <ui-icon name="calendar" class="w-5 h-5 text-white"></ui-icon>
      </div>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    <!-- Total Employees -->
    <div class="group relative bg-white rounded-2xl shadow-lg shadow-stone-200/50 border border-stone-200 p-6 overflow-hidden hover:shadow-xl hover:shadow-stone-200/60 transition-all duration-300 hover:-translate-y-1">
      <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-[#8b1e3f]/5 to-transparent rounded-bl-full"></div>
      <div class="relative flex items-start justify-between">
        <div>
          <p class="text-sm font-medium text-stone-500 uppercase tracking-wide">Total Employees</p>
          <p class="text-4xl font-bold text-stone-900 mt-2">
            {{ stats().totalEmployees }}
          </p>
          <p class="text-xs text-stone-400 mt-2 flex items-center gap-1">
            <span class="inline-flex items-center text-emerald-600">
              <ui-icon name="arrow-up" class="w-3 h-3"></ui-icon>
              12%
            </span>
            from last month
          </p>
        </div>
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-[#fdf2f4] to-[#fce7eb] flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
          <ui-icon name="user-group" class="w-7 h-7 text-[#8b1e3f]"></ui-icon>
        </div>
      </div>
    </div>

    <!-- Active Employees -->
    <div class="group relative bg-white rounded-2xl shadow-lg shadow-stone-200/50 border border-stone-200 p-6 overflow-hidden hover:shadow-xl hover:shadow-stone-200/60 transition-all duration-300 hover:-translate-y-1">
      <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-500/5 to-transparent rounded-bl-full"></div>
      <div class="relative flex items-start justify-between">
        <div>
          <p class="text-sm font-medium text-stone-500 uppercase tracking-wide">Active</p>
          <p class="text-4xl font-bold text-emerald-600 mt-2">
            {{ stats().activeEmployees }}
          </p>
          <p class="text-xs text-stone-400 mt-2">
            <span class="text-emerald-600 font-medium">{{ stats().totalEmployees > 0 ? ((stats().activeEmployees / stats().totalEmployees) * 100 | number:'1.0-0') : 0 }}%</span>
            of workforce
          </p>
        </div>
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-50 to-emerald-100 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
          <ui-icon name="check-circle" class="w-7 h-7 text-emerald-600"></ui-icon>
        </div>
      </div>
    </div>

    <!-- On Leave -->
    <div class="group relative bg-white rounded-2xl shadow-lg shadow-stone-200/50 border border-stone-200 p-6 overflow-hidden hover:shadow-xl hover:shadow-stone-200/60 transition-all duration-300 hover:-translate-y-1">
      <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-amber-500/5 to-transparent rounded-bl-full"></div>
      <div class="relative flex items-start justify-between">
        <div>
          <p class="text-sm font-medium text-stone-500 uppercase tracking-wide">On Leave</p>
          <p class="text-4xl font-bold text-amber-600 mt-2">
            {{ stats().onLeave }}
          </p>
          <p class="text-xs text-stone-400 mt-2">
            Currently away
          </p>
        </div>
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-50 to-amber-100 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
          <ui-icon name="sun" class="w-7 h-7 text-amber-600"></ui-icon>
        </div>
      </div>
    </div>

    <!-- Departments -->
    <div class="group relative bg-white rounded-2xl shadow-lg shadow-stone-200/50 border border-stone-200 p-6 overflow-hidden hover:shadow-xl hover:shadow-stone-200/60 transition-all duration-300 hover:-translate-y-1">
      <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-[#d4a574]/10 to-transparent rounded-bl-full"></div>
      <div class="relative flex items-start justify-between">
        <div>
          <p class="text-sm font-medium text-stone-500 uppercase tracking-wide">Departments</p>
          <p class="text-4xl font-bold text-[#b8956b] mt-2">
            {{ stats().departments }}
          </p>
          <p class="text-xs text-stone-400 mt-2">
            Active units
          </p>
        </div>
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-[#fdf8f3] to-[#f5ebe0] flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
          <ui-icon name="office-building" class="w-7 h-7 text-[#b8956b]"></ui-icon>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Employee Table -->
    <div class="lg:col-span-2 space-y-4">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-xl font-bold text-stone-900">
            Recent Employees
          </h2>
          <p class="text-sm text-stone-500 mt-0.5">Latest additions to your team</p>
        </div>
        <a routerLink="/employees" class="text-sm font-medium text-[#8b1e3f] hover:text-[#a82349] transition-colors flex items-center gap-1">
          View all
          <ui-icon name="chevron-right" class="w-4 h-4"></ui-icon>
        </a>
      </div>
      <ui-data-table
        [data]="employees()"
        [columns]="columns"
        [pagination]="true"
        [pageSize]="5"
        [totalItems]="employees().length"
      ></ui-data-table>
    </div>

    <!-- Quick Add Employee Form -->
    <ui-card
      title="Quick Add Employee"
      subtitle="Add a new team member"
      variant="premium"
      class="h-fit block"
    >
      <form [formGroup]="newEmployeeForm" (ngSubmit)="onQuickAdd()" class="space-y-4">
        <div class="grid grid-cols-2 gap-4">
          <ui-form-field label="First Name" [control]="newEmployeeForm.get('firstName')">
            <input
              type="text"
              id="firstName"
              formControlName="firstName"
              class="block w-full rounded-xl border-stone-200 shadow-sm focus:border-[#8b1e3f] focus:ring-[#8b1e3f] text-sm px-4 py-2.5 border bg-stone-50/50 focus:bg-white transition-colors duration-200 placeholder:text-stone-400"
              [class.border-red-300]="newEmployeeForm.get('firstName')?.invalid && newEmployeeForm.get('firstName')?.touched"
              placeholder="First"
            />
          </ui-form-field>

          <ui-form-field label="Last Name" [control]="newEmployeeForm.get('lastName')">
            <input
              type="text"
              id="lastName"
              formControlName="lastName"
              class="block w-full rounded-xl border-stone-200 shadow-sm focus:border-[#8b1e3f] focus:ring-[#8b1e3f] text-sm px-4 py-2.5 border bg-stone-50/50 focus:bg-white transition-colors duration-200 placeholder:text-stone-400"
              [class.border-red-300]="newEmployeeForm.get('lastName')?.invalid && newEmployeeForm.get('lastName')?.touched"
              placeholder="Last"
            />
          </ui-form-field>
        </div>

        <ui-form-field label="Email" [control]="newEmployeeForm.get('email')">
          <input
            type="email"
            id="quickAddEmail"
            formControlName="email"
            class="block w-full rounded-xl border-stone-200 shadow-sm focus:border-[#8b1e3f] focus:ring-[#8b1e3f] text-sm px-4 py-2.5 border bg-stone-50/50 focus:bg-white transition-colors duration-200 placeholder:text-stone-400"
            [class.border-red-300]="newEmployeeForm.get('email')?.invalid && newEmployeeForm.get('email')?.touched"
            placeholder="name@company.com"
          />
        </ui-form-field>

        <ui-form-field label="Department" [control]="newEmployeeForm.get('department')">
          <select
            id="department"
            formControlName="department"
            class="block w-full rounded-xl border-stone-200 shadow-sm focus:border-[#8b1e3f] focus:ring-[#8b1e3f] text-sm px-4 py-2.5 border bg-stone-50/50 transition-colors"
            [class.border-red-300]="newEmployeeForm.get('department')?.invalid && newEmployeeForm.get('department')?.touched"
          >
            <option value="">Select department</option>
            <option value="Engineering">Engineering</option>
            <option value="Design">Design</option>
            <option value="HR">HR</option>
            <option value="Marketing">Marketing</option>
            <option value="Sales">Sales</option>
            <option value="Finance">Finance</option>
          </select>
        </ui-form-field>

        <div class="pt-2">
          <ui-button
            type="submit"
            [loading]="isSubmitting()"
            [disabled]="newEmployeeForm.invalid || isSubmitting()"
            [fullWidth]="true"
            variant="primary"
          >
            <ui-icon name="plus" class="w-4 h-4 mr-2"></ui-icon>
            Add Employee
          </ui-button>
        </div>
      </form>
    </ui-card>
  </div>
</div>
